Object.keys=Object.keys||function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t},jQuery(document).ready(function(m){function d(e,t,a,o){this.latlng_=e,this.infoWindowIndex=a,this.mapIndex=o,this.setMap(t)}function l(n,y,p){m(".map-marker-list."+y).each(function(){var r=m("#"+y).attr("data-enable-animation");m(this).find(".map-marker").each(function(e){
//eva marker 
if(m("#"+y).is('[data-marker-style="barberry"]'))var t,a=new d(new google.maps.LatLng(m(this).attr("data-lat"),m(this).attr("data-lng")),n,e,p);var o=new google.maps.Marker({position:new google.maps.LatLng(m(this).attr("data-lat"),m(this).attr("data-lng")),map:n,visible:!1,mapIndex:p,infoWindowIndex:e,icon:m("#"+y).attr("data-marker-img"),optimized:!1}),s,i;
//google default marker
//infowindows 
if(m("#"+y).is('[data-marker-style="barberry"]')||(
//animation
void 0!==r&&1==r&&690<m(window).width()?setTimeout(function(){o.setAnimation(google.maps.Animation.BOUNCE),o.setOptions({visible:!0}),setTimeout(function(){o.setAnimation(null)},500)},200*e):o.setOptions({visible:!0})),""!=m(this).attr("data-mapinfo")&&"<br />"!=m(this).attr("data-mapinfo")&&"<br/>"!=m(this).attr("data-mapinfo")){var l=new google.maps.InfoWindow({content:m(this).attr("data-mapinfo"),maxWidth:300});b[p].push(l),google.maps.event.addListener(o,"click",(s=o,i=e,function(){b[this.mapIndex][this.infoWindowIndex].open(n,this)}))}})})}//setMarker
var r=0,n,y,p,f,g,c,h,u,T,v,b,w=[],b=[];window.mapAPI_Loaded=function(){for(var e=0;e<m(".barberry-google-map").length;e++)b[e]=[];m(".barberry-google-map").each(function(t){
/*var $mapCopy = $(this).clone();
			var $currentPosition = $(this).next('.map-marker-list');
			$(this).remove();
			$mapCopy.insertBefore($currentPosition);*/
//map margin if page header
T=parseFloat(m(this).attr("data-zoom-level")),u=parseFloat(m(this).attr("data-center-lat")),h=parseFloat(m(this).attr("data-center-lng")),c=m(this).attr("data-marker-img"),f=m(this).attr("data-enable-zoom"),g="1"!=f,p=m(this).attr("data-greyscale"),y=m(this).attr("data-extra-color"),barberryMarkerColor=m(this).attr("data-marker-color"),ultraFlat=m(this).attr("data-ultra-flat"),darkColorScheme=m(this).attr("data-dark-color-scheme");var e=[],a=[];n=m(this).attr("data-enable-animation"),isNaN(T)&&(T=12),isNaN(u)&&(u=51.47),isNaN(h)&&(h=-.268199),n=void 0!==n&&1==n&&690<m(window).width()?(r=180,google.maps.Animation.BOUNCE):null,v=new google.maps.LatLng(u,h),
//color
"1"==ultraFlat?e=[{featureType:"transit",elementType:"geometry",stylers:[{visibility:"off"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",stylers:[{visibility:"off"}]}]:(e[0]={},e[1]={},e[2]={}),"1"==darkColorScheme?a=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]:(a[0]={},a[1]={},a[2]={},a[3]={},a[4]={},a[5]={},a[6]={},a[7]={},a[8]={},a[9]={},a[10]={},a[11]={},a[12]={}),"1"==p&&0<y.length?styles=[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry.fill",stylers:[{hue:y},{visibility:"on"},{lightness:1},{saturation:7}]},{elementType:"labels",stylers:[{saturation:-100}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{hue:y},{visibility:"on"},{lightness:20},{saturation:7}]},{featureType:"landscape",stylers:[{hue:y},{visibility:"on"},{lightness:20},{saturation:20}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:y},{visibility:"on"},{lightness:1},{saturation:7}]},{featureType:"water",elementType:"geometry",stylers:[{hue:y},{visibility:"on"},{lightness:1},{saturation:7}]},a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],e[0],e[1],e[2]]:styles="1"==p?[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{elementType:"geometry",stylers:[{saturation:-100}]},{elementType:"labels",stylers:[{saturation:-100}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#f1f1f1"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#b9e7f4"}]},a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],e[0],e[1],e[2]]:[];var o=new google.maps.StyledMapType(styles,{name:"Styled Map"}),s={center:v,zoom:T,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]},scrollwheel:!1,panControl:!1,zoomControl:f,disableDoubleClickZoom:g,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.LEFT_CENTER},mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,fullscreenControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM}};
//options
w[t]=new google.maps.Map(document.getElementById(m(this).attr("id")),s),
//Associate the styled map with the MapTypeId and set it to display.
w[t].mapTypes.set("map_style",o),w[t].setMapTypeId("map_style");var i=t;google.maps.event.addListenerOnce(w[t],"tilesloaded",function(){var e=m(w[t].getDiv()).attr("id");l(w[t],e,i)})}),d.prototype=new google.maps.OverlayView,d.prototype.draw=function(){var t=this,e=this.div_,a;e||((e=this.div_=m('<div><div class="animated-dot"><div class="pin"></div><div class="pulse"></div></div></div>')[0]).style.position="absolute",e.style.paddingLeft="0px",e.style.cursor="pointer",this.getPanes().overlayImage.appendChild(e));var o=this.getProjection().fromLatLngToDivPixel(this.latlng_);o&&(e.style.left=o.x+"px",e.style.top=o.y+"px"),
//infowindow
google.maps.event.addDomListener(e,"click",function(e){b[t.mapIndex][t.infoWindowIndex].setPosition(t.latlng_),b[t.mapIndex][t.infoWindowIndex].open(t.map)})},d.prototype.remove=function(){
// Check if the overlay was on the map and needs to be removed.
this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},d.prototype.getPosition=function(){return this.latlng_}}//api loaded
,"object"==typeof google&&"object"==typeof google.maps?m(window).on("pronto.render",function(){mapAPI_Loaded()}):0<barberry_scripts_vars.mapApiKey.length?m.getScript("https://maps.google.com/maps/api/js?sensor=false&key="+barberry_scripts_vars.mapApiKey+"&callback=mapAPI_Loaded"):m.getScript("https://maps.google.com/maps/api/js?sensor=false&callback=mapAPI_Loaded")});